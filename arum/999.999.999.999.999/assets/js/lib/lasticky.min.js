!function(S){"use strict";S.fn.la_sticky=function(t){var k,o,x,P,V,F,C,e,z,I,A,i,s,r,M;for(null==t&&(t={}),I=t.sticky_class,P=t.inner_scrolling,z=t.recalc_every,e=t.parent,F=t.offset_top,V=t.spacer,x=t.bottoming,M=t.fake_parent,t.fake_parent_height,A=S(window).height(),k=S(document).height(),null==F&&(F=0),null==e&&(e=void 0),null==P&&(P=!0),null==I&&(I="is_stuck"),null==x&&(x=!0),C=function(t){var o,e;return window.getComputedStyle?(t[0],o=window.getComputedStyle(t[0]),e=parseFloat(o.getPropertyValue("width"))+parseFloat(o.getPropertyValue("margin-left"))+parseFloat(o.getPropertyValue("margin-right")),"border-box"!==o.getPropertyValue("box-sizing")&&(e+=parseFloat(o.getPropertyValue("border-left-width"))+parseFloat(o.getPropertyValue("border-right-width"))+parseFloat(o.getPropertyValue("padding-left"))+parseFloat(o.getPropertyValue("padding-right"))),e):t.outerWidth(!0)},i=function(r,n,l,a,c,p,d,u){var f,t,h,g,w,y,m,v,o,b,_,i,s;if(!r.data("la_sticky")){if(r.data("la_sticky",!0),w=k,m=r.parent(),M&&(s=M),null!=e&&(m=m.closest(e)),!m.length)throw"failed to find stick parent";if(f=h=!1,(_=null!=V?V&&r.closest(V):S("<div />"))&&_.css("position",r.css("position")),(v=function(){var t,o,e;if(!u)return A=S(window).height(),k=S(document).height(),w=k,t=parseInt(m.css("border-top-width"),10),o=parseInt(m.css("padding-top"),10),n=parseInt(m.css("padding-bottom"),10),l=m.offset().top+t+o,a=M?s.height():m.height(),h&&(f=h=!1,null==V&&(r.insertAfter(_),_.detach()),r.css({position:"",top:"",width:"",bottom:""}).removeClass(I),e=!0),c=r.offset().top-(parseInt(r.css("margin-top"),10)||0)-F,p=r.outerHeight(!0),d=r.css("float"),_&&_.css({width:C(r),height:p,display:r.css("display"),"vertical-align":r.css("vertical-align"),"pointer-events":"none",float:d}),e?i():void 0})(),p!==a)return g=void 0,y=F,b=z,i=function(){var t,o,e,i,s;if(!u)return e=!1,null!=b&&--b<=0&&(b=z,v(),e=!0),e||k===w||(v(),e=!0),i=S(window).scrollTop(),null!=g&&(o=i-g),g=i,h?(x&&(s=a+l<i+p+y,f&&!s&&(f=!1,r.css({position:"fixed",bottom:"",top:y}).trigger("la_sticky:unbottom"))),i<=c&&(h=!1,y=F,null==V&&("left"!==d&&"right"!==d||r.insertAfter(_),_.detach()),t={position:"",width:"",top:""},r.css(t).removeClass(I).trigger("la_sticky:unstick")),P&&A<p+F&&(f||(y-=o,y=Math.max(A-p,y),y=Math.min(F,y),h&&r.css({top:y+"px"})))):c<i&&(h=!0,(t={position:"fixed",top:y}).width="border-box"===r.css("box-sizing")?r.outerWidth()+"px":r.width()+"px",r.css(t).addClass(I),null==V&&(r.after(_),"left"!==d&&"right"!==d||_.append(r)),r.trigger("la_sticky:stick")),h&&x&&(null==s&&(s=a+l<i+p+y),!f&&s)?(f=!0,"static"===m.css("position")&&m.css({position:"relative"}),r.css({position:"absolute",bottom:n,top:"auto"}).trigger("la_sticky:bottom")):void 0},o=function(){return v(),i()},t=function(){if(u=!0,S(window).off("touchmove",i),S(window).off("scroll",i),S(window).off("resize",o),S(document.body).off("la_sticky:recalc",o),r.off("la_sticky:detach",t),r.removeData("la_sticky"),r.css({position:"",bottom:"",top:"",width:""}),m.position("position",""),h)return null==V&&("left"!==d&&"right"!==d||r.insertAfter(_),_.remove()),r.removeClass(I)},S(window).on("touchmove",i),S(window).on("scroll",i),S(window).on("resize",o),S(document.body).on("la_sticky:recalc",o),r.on("la_sticky:detach",t),setTimeout(i,0)}},s=0,r=this.length;s<r;s++)o=this[s],i(S(o));return this}}(jQuery);