(function(a,b){var c=function(a){var b=this;b.$form=a,b.$attributeFields=a.find(".variations select"),b.$singleVariation=a.find(".single_variation"),b.$singleVariationWrap=a.find(".single_variation_wrap"),b.$resetVariations=a.find(".reset_variations"),b.$product=a.closest(".product"),b.variationData=a.data("product_variations"),b.useAjax=!1===b.variationData,b.xhr=!1,b.loading=!0,b.$singleVariationWrap.show(),b.$form.off(".wc-variation-form"),b.getChosenAttributes=b.getChosenAttributes.bind(b),b.findMatchingVariations=b.findMatchingVariations.bind(b),b.isMatch=b.isMatch.bind(b),b.toggleResetLink=b.toggleResetLink.bind(b),a.on("click.wc-variation-form",".reset_variations",{variationForm:b},b.onReset),a.on("reload_product_variations",{variationForm:b},b.onReload),a.on("hide_variation",{variationForm:b},b.onHide),a.on("show_variation",{variationForm:b},b.onShow),a.on("click",".single_add_to_cart_button",{variationForm:b},b.onAddToCart),a.on("reset_data",{variationForm:b},b.onResetDisplayedVariation),a.on("reset_image",{variationForm:b},b.onResetImage),a.on("change.wc-variation-form",".variations select",{variationForm:b},b.onChange),a.on("found_variation.wc-variation-form",{variationForm:b},b.onFoundVariation),a.on("check_variations.wc-variation-form",{variationForm:b},b.onFindVariation),a.on("update_variation_values.wc-variation-form",{variationForm:b},b.onUpdateAttributes),setTimeout(function(){a.trigger("check_variations"),a.trigger("wc_variation_form",b),b.loading=!1},100)};c.prototype.onReset=function(a){a.preventDefault(),a.data.variationForm.$attributeFields.val("").change(),a.data.variationForm.$form.trigger("reset_data")},c.prototype.onReload=function(a){var b=a.data.variationForm;b.variationData=b.$form.data("product_variations"),b.useAjax=!1===b.variationData,b.$form.trigger("check_variations")},c.prototype.onHide=function(a){a.preventDefault(),a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-is-unavailable").addClass("disabled wc-variation-selection-needed"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled")},c.prototype.onShow=function(a,b,c){a.preventDefault(),c?(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("disabled wc-variation-selection-needed wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-disabled").addClass("woocommerce-variation-add-to-cart-enabled")):(a.data.variationForm.$form.find(".single_add_to_cart_button").removeClass("wc-variation-selection-needed").addClass("disabled wc-variation-is-unavailable"),a.data.variationForm.$form.find(".woocommerce-variation-add-to-cart").removeClass("woocommerce-variation-add-to-cart-enabled").addClass("woocommerce-variation-add-to-cart-disabled"))},c.prototype.onAddToCart=function(c){a(this).is(".disabled")&&(c.preventDefault(),a(this).is(".wc-variation-is-unavailable")?b.alert(la_theme_config.i18n.variation.i18n_unavailable_text):a(this).is(".wc-variation-selection-needed")&&b.alert(la_theme_config.i18n.variation.i18n_make_a_selection_text))},c.prototype.onResetDisplayedVariation=function(a){var b=a.data.variationForm;b.$product.find(".product_meta").find(".sku").wc_reset_content(),b.$product.find(".product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value").wc_reset_content(),b.$product.find(".product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value").wc_reset_content(),b.$form.trigger("reset_image"),b.$singleVariation.slideUp(200).trigger("hide_variation")},c.prototype.onResetImage=function(a){a.data.variationForm.$form.wc_variations_image_update(!1)},c.prototype.onFindVariation=function(b,c){var d=b.data.variationForm,e="undefined"==typeof c?d.getChosenAttributes():c,f=e.data;if(!(e.count&&e.count===e.chosenCount))d.$form.trigger("update_variation_values"),d.$form.trigger("reset_data");else if(d.useAjax)d.xhr&&d.xhr.abort(),d.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),f.product_id=parseInt(d.$form.data("product_id"),10),f.custom_data=d.$form.data("custom_data"),d.xhr=a.ajax({url:la_theme_config.i18n.variation.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:f,success:function(a){a?d.$form.trigger("found_variation",[a]):(d.$form.trigger("reset_data"),e.chosenCount=0,!d.loading&&(d.$form.find(".single_variation").after("<p class=\"wc-no-matching-variations woocommerce-info\">"+la_theme_config.i18n.variation.i18n_no_matching_variations_text+"</p>"),d.$form.find(".wc-no-matching-variations").slideDown(200)))},complete:function(){d.$form.unblock()}});else{d.$form.trigger("update_variation_values");var g=d.findMatchingVariations(d.variationData,f),h=g.shift();h?d.$form.trigger("found_variation",[h]):(d.$form.trigger("reset_data"),e.chosenCount=0,!d.loading&&(d.$form.find(".single_variation").after("<p class=\"wc-no-matching-variations woocommerce-info\">"+la_theme_config.i18n.variation.i18n_no_matching_variations_text+"</p>"),d.$form.find(".wc-no-matching-variations").slideDown(200)))}d.toggleResetLink(0<e.chosenCount)},c.prototype.onFoundVariation=function(b,c){var d=b.data.variationForm,e=d.$product.find(".product_meta").find(".sku"),f=d.$product.find(".product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value"),g=d.$product.find(".product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value"),h=d.$singleVariationWrap.find(".quantity"),i=!0,j="";if(c.sku?e.wc_set_content(c.sku):e.wc_reset_content(),c.weight?f.wc_set_content(c.weight_html):f.wc_reset_content(),c.dimensions?g.wc_set_content(a.parseHTML(c.dimensions_html)[0].data):g.wc_reset_content(),d.$form.wc_variations_image_update(c),c.variation_is_visible&&(j=c.variation_id),d.$form.find("input[name=\"variation_id\"], input.variation_id").val(c.variation_id).change(),"yes"===c.is_sold_individually)h.find("input.qty").val("1").attr("min","1").attr("max","").change(),h.hide();else{var k=h.find("input.qty"),l=parseFloat(k.val());isNaN(l)?l=c.min_qty:(l=l>parseFloat(c.max_qty)?c.max_qty:l,l=l<parseFloat(c.min_qty)?c.min_qty:l),k.attr("min",c.min_qty).attr("max",c.max_qty).val(l).change(),h.show()}c.is_purchasable&&c.is_in_stock&&c.variation_is_visible||(i=!1),a.trim(d.$singleVariation.text())?d.$singleVariation.slideDown(200).trigger("show_variation",[c,i]):d.$singleVariation.show().trigger("show_variation",[c,i])},c.prototype.onChange=function(a){var b=a.data.variationForm;b.$form.find("input[name=\"variation_id\"], input.variation_id").val("").change(),b.$form.find(".wc-no-matching-variations").remove(),b.useAjax?b.$form.trigger("check_variations"):(b.$form.trigger("woocommerce_variation_select_change"),b.$form.trigger("check_variations")),b.$form.trigger("woocommerce_variation_has_changed")},c.prototype.addSlashes=function(a){return a=a.replace(/'/g,"\\'"),a=a.replace(/"/g,"\\\""),a},c.prototype.onUpdateAttributes=function(b){var c=b.data.variationForm,d=c.getChosenAttributes(),e=d.data;c.useAjax||(c.$attributeFields.each(function(b,d){var f=a(d),g=f.data("attribute_name")||f.attr("name"),h=a(d).data("show_option_none"),j=":gt(0)",k=0,l=a("<select/>"),m=f.val()||"",n=!0;if(!f.data("attribute_html")){var o=f.clone();o.find("option").removeAttr("disabled attached").removeAttr("selected"),f.data("attribute_options",o.find("option"+j).get()),f.data("attribute_html",o.html())}l.html(f.data("attribute_html"));var p=a.extend(!0,{},e);p[g]="";var q=c.findMatchingVariations(c.variationData,p);for(var r in q)if("undefined"!=typeof q[r]){var s=q[r].attributes;for(var t in s)if(s.hasOwnProperty(t)){var u=s[t],v="";if(t===g)if(q[r].variation_is_active&&(v="enabled"),u){u=a("<div/>").html(u).text();var w=l.find("option");if(w.length)for(var x=0,y=w.length;x<y;x++){var z=a(w[x]),A=z.val();if(u===A){z.addClass("attached "+v);break}}}else l.find("option:gt(0)").addClass("attached "+v)}}k=l.find("option.attached").length,m&&(n=!1,0!==k&&l.find("option.attached.enabled").each(function(){var b=a(this).val();if(m===b)return n=!0,!1})),0<k&&m&&n&&"no"===h&&(l.find("option:first").remove(),j=""),l.find("option"+j+":not(.attached)").remove(),f.html(l.html()),f.find("option"+j+":not(.enabled)").prop("disabled",!0),m?n?f.val(m):f.val("").change():f.val("")}),c.$form.trigger("woocommerce_update_variation_values"))},c.prototype.getChosenAttributes=function(){var b={},c=0,d=0;return this.$attributeFields.each(function(){var e=a(this).data("attribute_name")||a(this).attr("name"),f=a(this).val()||"";0<f.length&&d++,c++,b[e]=f}),{count:c,chosenCount:d,data:b}},c.prototype.findMatchingVariations=function(a,b){for(var c,d=[],e=0;e<a.length;e++)c=a[e],this.isMatch(c.attributes,b)&&d.push(c);return d},c.prototype.isMatch=function(a,b){var c=!0;for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f=b[d];e!==void 0&&f!==void 0&&0!==e.length&&0!==f.length&&e!==f&&(c=!1)}return c},c.prototype.toggleResetLink=function(a){a?"hidden"===this.$resetVariations.css("visibility")&&this.$resetVariations.css("visibility","visible").hide().fadeIn():this.$resetVariations.css("visibility","hidden")},a.fn.wc_variation_form=function(){return new c(this),this},a.fn.wc_set_content=function(a){void 0===this.attr("data-o_content")&&this.attr("data-o_content",this.text()),this.text(a)},a.fn.wc_reset_content=function(){void 0!==this.attr("data-o_content")&&this.text(this.attr("data-o_content"))},a.fn.wc_set_variation_attr=function(a,b){void 0===this.attr("data-o_"+a)&&this.attr("data-o_"+a,this.attr(a)?this.attr(a):""),!1===b?this.removeAttr(a):this.attr(a,b)},a.fn.wc_reset_variation_attr=function(a){void 0!==this.attr("data-o_"+a)&&this.attr(a,this.attr("data-o_"+a))},a.fn.wc_maybe_trigger_slide_position_reset=function(b){var c=a(this),d=c.closest(".product"),e=d.find(".images"),f=!1,g=b&&b.image_id?b.image_id:"";c.attr("current-image")!==g&&(f=!0),c.attr("current-image",g),f&&e.trigger("woocommerce_gallery_reset_slide_position")},a.fn.wc_variations_image_update=function(c){var d=this,e=d.closest(".product"),f=e.find(".images"),g=e.find(".flex-control-nav"),h=g.find("li:eq(0) img"),i=f.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),j=i.find(".wp-post-image"),k=i.find("a").eq(0);if(c&&c.image&&c.image.src&&1<c.image.src.length){var l=0<g.find("li img[data-o_src=\""+c.image.gallery_thumbnail_src+"\"]").length;l&&d.wc_variations_image_reset();var m=g.find("li img[src=\""+c.image.gallery_thumbnail_src+"\"]");if(0<m.length)return m.trigger("click"),d.attr("current-image",c.image_id),void b.setTimeout(function(){a(b).trigger("resize"),f.trigger("woocommerce_gallery_init_zoom")},20);j.wc_set_variation_attr("src",c.image.src),j.wc_set_variation_attr("height",c.image.src_h),j.wc_set_variation_attr("width",c.image.src_w),j.wc_set_variation_attr("srcset",c.image.srcset),j.wc_set_variation_attr("sizes",c.image.sizes),j.wc_set_variation_attr("title",c.image.title),j.wc_set_variation_attr("data-caption",c.image.caption),j.wc_set_variation_attr("alt",c.image.alt),j.wc_set_variation_attr("data-src",c.image.full_src),j.wc_set_variation_attr("data-large_image",c.image.full_src),j.wc_set_variation_attr("data-large_image_width",c.image.full_src_w),j.wc_set_variation_attr("data-large_image_height",c.image.full_src_h),i.wc_set_variation_attr("data-thumb",c.image.src),h.wc_set_variation_attr("src",c.image.gallery_thumbnail_src),k.wc_set_variation_attr("href",c.image.full_src)}else d.wc_variations_image_reset();b.setTimeout(function(){a(b).trigger("resize"),d.wc_maybe_trigger_slide_position_reset(c),f.trigger("woocommerce_gallery_init_zoom")},20)},a.fn.wc_variations_image_reset=function(){var a=this,b=a.closest(".product"),c=b.find(".images"),d=b.find(".flex-control-nav"),e=d.find("li:eq(0) img"),f=c.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),g=f.find(".wp-post-image"),h=f.find("a").eq(0);g.wc_reset_variation_attr("src"),g.wc_reset_variation_attr("width"),g.wc_reset_variation_attr("height"),g.wc_reset_variation_attr("srcset"),g.wc_reset_variation_attr("sizes"),g.wc_reset_variation_attr("title"),g.wc_reset_variation_attr("data-caption"),g.wc_reset_variation_attr("alt"),g.wc_reset_variation_attr("data-src"),g.wc_reset_variation_attr("data-large_image"),g.wc_reset_variation_attr("data-large_image_width"),g.wc_reset_variation_attr("data-large_image_height"),f.wc_reset_variation_attr("data-thumb"),e.wc_reset_variation_attr("src"),h.wc_reset_variation_attr("href")},a(function(){console.log("here !!"),"undefined"!=typeof la_theme_config.i18n.variation&&a(".variations_form").each(function(){a(this).wc_variation_form()})})})(jQuery,window,document);