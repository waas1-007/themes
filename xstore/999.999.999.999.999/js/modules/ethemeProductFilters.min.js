!function(p){"use strict";p(window).on("elementor/frontend/init",function(){var t=elementorModules.frontend.handlers.Base.extend({onInit:function(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),this.run()},getDefaultSettings:function(){return{selectors:{form:".etheme-product-filters",title:".etheme-product-filters-item-title",item:".etheme-product-filters-item",filterItem:".filter-item",itemContent:".etheme-product-filters-item-content",priceSlider:".etheme_price_slider",priceSliderNotRendered:".etheme_price_slider:not(.ui-slider)",minPrice:"#min_price",maxPrice:"#max_price",priceLabel:".price-label",priceSliderAmount:".price_slider_amount",resultInput:".result-input",quickResults:".etheme-product-filters-quick-results",quickResultsLi:".etheme-product-filters-quick-results li"},options:{svg_delete_icon:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width=".75em" height=".75em" viewBox="0 0 24 24">\n<path d="M13.056 12l10.728-10.704c0.144-0.144 0.216-0.336 0.216-0.552 0-0.192-0.072-0.384-0.216-0.528-0.144-0.12-0.336-0.216-0.528-0.216 0 0 0 0 0 0-0.192 0-0.408 0.072-0.528 0.216l-10.728 10.728-10.704-10.728c-0.288-0.288-0.768-0.288-1.056 0-0.168 0.144-0.24 0.336-0.24 0.528 0 0.216 0.072 0.408 0.216 0.552l10.728 10.704-10.728 10.704c-0.144 0.144-0.216 0.336-0.216 0.552s0.072 0.384 0.216 0.528c0.288 0.288 0.768 0.288 1.056 0l10.728-10.728 10.704 10.704c0.144 0.144 0.336 0.216 0.528 0.216s0.384-0.072 0.528-0.216c0.144-0.144 0.216-0.336 0.216-0.528s-0.072-0.384-0.216-0.528l-10.704-10.704z"></path>\n</svg>',openClass:"opened",activeClasses:"chosen selected"}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$form:this.$element.find(e.form),$title:this.$element.find(e.title),$item:this.$element.find(e.item),$filterItem:this.$element.find(e.filterItem),$itemContent:this.$element.find(e.itemContent),$priceSlider:this.$element.find(e.priceSlider),$priceSliderNotRendered:this.$element.find(e.priceSliderNotRendered),$minPrice:this.$element.find(e.minPrice),$maxPrice:this.$element.find(e.maxPrice),$priceLabel:this.$element.find(e.priceLabel),$priceSliderAmount:this.$element.find(e.priceSliderAmount),$resultInput:this.$element.find(e.resultInput),$quickResults:this.$element.find(e.quickResults),$quickResultsLi:this.$element.find(e.quickResultsLi)}},itemClickAction:function(){var n=this.getSettings("selectors"),l=this.getSettings("options");this.elements.$title.on("click",function(r){if(p(r.target).closest("[data-q-value]").length){let e=p(this).parent(),t=p(r.target).closest("[data-q-value]").attr("data-q-value");if("price"===t){let e=p(this).parents(n.item),t=e.find(n.minPrice),i=e.find(n.maxPrice),s=t.data("min"),r=i.data("max");return t.val(s),i.val(r),p(e).find(n.priceSlider).slider("values",[s,r]),e.find("[data-q-value]").hide(),void p(document.body).trigger("etheme_price_slider_slide",[s,r,e])}let i=e.find(n.resultInput),s=i.val().split(",");return s.splice([s.findIndex(e=>e===t)],1),i.val(s.join(",")),e.find('[data-value="'+t+'"]').parent().removeClass(l.activeClasses),void p(r.target).remove()}let e=p(this).parent();e.prevAll().removeClass(l.openClass).find(".etheme-product-filters-item-content").slideUp(),e.nextAll().removeClass(l.openClass).find(".etheme-product-filters-item-content").slideUp(),e.hasClass(l.openClass)?e.removeClass(l.openClass):e.addClass(l.openClass),p(this).next().slideToggle()})},filterItemAction:function(){var d=this.getSettings("selectors"),m=this.getSettings("options");this.elements.$filterItem.on("click",function(e){e.preventDefault();let t=p(this).parent(),i=!1,s=(t.hasClass(m.activeClasses)?(i=!0,t.removeClass(m.activeClasses)):(i=!1,t.addClass(m.activeClasses)),p(this).parents(d.item)),r=s.data("limit")??"",n=s.find(d.quickResults),l=s.find(d.resultInput),a=l.val(),o=a?a.split(","):a.split(""),c=p(this).data("value").toString();if(r&&(s.find(".selected.chosen").length>=r&&s.removeClass(m.openClass).find(d.itemContent).slideUp(),o.length>=r)){o.shift();let e=n.find("[data-q-value]").first();s.find('[data-value="'+e.attr("data-q-value")+'"]').parent().removeClass(m.activeClasses),e.remove()}-1<o.indexOf(c)?(o.splice([o.findIndex(e=>e===c)],1),n.find('[data-q-value="'+c+'"]').remove()):i||(o.push(c),n.append('<span data-q-value="'+c+'">'+m.svg_delete_icon+p(this).text()+"</span>")),l.val(o.join(","))})},quickResultsAction:function(){var e=this.getSettings("selectors");this.elements.$quickResultsLi.on("click",function(){p(this).parents(e.item);p(this).remove()})},customTriggers:function(){var m,u;"undefined"!=typeof woocommerce_price_slider_params&&(m=this.getSettings("selectors"),u=this.getSettings("options"),p(document.body).on("etheme_price_slider_create etheme_price_slider_slide",function(e,t,i,s){let r=s.find("span.from"),n=s.find("span.to");var s=accounting.formatMoney(t,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),l=accounting.formatMoney(i,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format});r.html(s),n.html(l),p(document.body).trigger("price_slider_updated",[t,i])}),p.each(this.elements.$priceSliderNotRendered,function(){var i=p(this),s=i.parents(m.item),r=s.find(m.minPrice),n=s.find(m.maxPrice),e=s.find(m.priceLabel),t=s.find(m.priceSliderAmount),l=s.find(m.quickResults+" > span"),a=(l.prepend(u.svg_delete_icon),r.hide(),n.hide(),r.data("min")),d=n.data("max"),t=t.data("step")||1,o=r.val(),c=n.val();i.show(),e.show(),i.slider({range:!0,animate:!0,min:a,max:d,step:t,values:[o,c],create:function(){r.val(o),n.val(c),p(document.body).trigger("etheme_price_slider_create",[o,c,s])},slide:function(e,t){r.val(t.values[0]),n.val(t.values[1]),p(document.body).trigger("etheme_price_slider_slide",[t.values[0],t.values[1],s]),l.show()},change:function(e,t){p(document.body).trigger("etheme_price_slider_change",[t.values[0],t.values[1],i])}})}))},run:function(){this.itemClickAction(),this.filterItemAction(),this.quickResultsAction(),this.customTriggers()}});elementorFrontend.hooks.addAction("frontend/element_ready/etheme_product_filters.default",function(e){elementorFrontend.elementsHandler.addHandler(t,{$element:e})})})}(jQuery);