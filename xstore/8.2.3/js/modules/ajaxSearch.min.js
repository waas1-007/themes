!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"function"==typeof require?e(require("jquery")):e(jQuery)}(function(g){"use strict";var s={escapeRegExChars:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}},n=27,i=9,o=13,a=38,l=39,r=40,e=g.noop;function u(e,t){var s=this;s.element=e,s.el=g(e),s.suggestions=[],s.badQueries=[],s.selectedIndex=-1,s.currentValue=s.element.value,s.timeoutId=null,s.cachedResponse={},s.onChangeTimeout=null,s.onChange=null,s.isLocal=!1,s.suggestionsContainer=null,s.noSuggestionsContainer=null,s.options=g.extend(!0,{},u.defaults,t),s.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},s.hint=null,s.hintValue="",s.selection=null,s.initialize(),s.setOptions(t)}u.utils=s,(g.Autocomplete=u).defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,onHint:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:function(e,t){if(!t)return e.value;t="("+s.escapeRegExChars(t)+")";return e.value.replace(new RegExp(t,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},formatGroup:function(e,t){return'<div class="autocomplete-group">'+t+"</div>"},delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,closeOnOutside:!0,preventBadQueries:!0,lookupFilter:function(e,t,s){return-1!==e.value.toLowerCase().indexOf(s)},paramName:"query",transformResult:function(e){return"string"==typeof e?g.parseJSON(e):e},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},u.prototype={initialize:function(){var e,t=this,s="."+t.classes.suggestion,n=t.classes.selected,i=t.options;t.element.setAttribute("autocomplete","off"),t.noSuggestionsContainer=g('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),t.suggestionsContainer=u.utils.createNode(i.containerClass),(e=g(t.suggestionsContainer)).appendTo(i.appendTo||"body"),"auto"!==i.width&&e.css("width",i.width),e.on("mouseover.autocomplete",s,function(){t.activate(g(this).data("index"))}),e.on("mouseout.autocomplete",function(){t.selectedIndex=-1,e.children("."+n).removeClass(n)}),e.on("click.autocomplete",s,function(){t.select(g(this).data("index"))}),e.on("click.autocomplete",function(){clearTimeout(t.blurTimeoutId)}),t.fixPositionCapture=function(){t.visible&&t.fixPosition()},g(window).on("resize.autocomplete",t.fixPositionCapture),t.el.on("keydown.autocomplete",function(e){t.onKeyPress(e)}),t.el.on("keyup.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("blur.autocomplete",function(){t.onBlur()}),t.el.on("focus.autocomplete",function(){t.onFocus()}),t.el.on("change.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("input.autocomplete",function(e){t.onKeyUp(e)})},onFocus:function(){var e=this;e.disabled||(e.fixPosition(),e.el.val().length>=e.options.minChars&&e.onValueChange())},onBlur:function(){var e=this,t=e.options,s=e.el.val(),n=e.getQuery(s);e.blurTimeoutId=setTimeout(function(){t.closeOnOutside&&e.hide(),e.selection&&e.currentValue!==n&&(t.onInvalidateSelection||g.noop).call(e.element)},200)},abortAjax:function(){var e=this;e.currentRequest&&(e.currentRequest.abort(),e.currentRequest=null)},setOptions:function(e){var t=this,e=g.extend({},t.options,e);t.isLocal=Array.isArray(e.lookup),t.isLocal&&(e.lookup=t.verifySuggestionsFormat(e.lookup)),e.orientation=t.validateOrientation(e.orientation,"bottom"),g(t.suggestionsContainer).css({"max-height":e.maxHeight+"px",width:e.width+"px","z-index":e.zIndex}),this.options=e},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,clearTimeout(e.onChangeTimeout),e.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var e,t,s,n,i,o,a,l,r=this,u=g(r.suggestionsContainer),c=u.parent().get(0);c!==document.body&&!r.options.forceFixPosition||(o=r.options.orientation,e=u.outerHeight(),t=r.el.outerHeight(),s={top:(l=r.el.offset()).top,left:l.left},"auto"===o&&(a=g(window).height(),n=-(i=g(window).scrollTop())+l.top-e,i=i+a-(l.top+t+e),o=Math.max(n,i)===n?"top":"bottom"),s.top+="top"===o?-e:t,c!==document.body&&(a=u.css("opacity"),r.visible||u.css("opacity",0).show(),l=u.offsetParent().offset(),s.top-=l.top,s.top+=c.scrollTop,s.left-=l.left,r.visible||u.css("opacity",a).hide()),"auto"===r.options.width&&(s.width=r.el.outerWidth()+"px"),u.css(s))},isCursorAtEnd:function(){var e=this.el.val().length,t=this.element.selectionStart;return"number"==typeof t?t===e:!document.selection||((t=document.selection.createRange()).moveStart("character",-e),e===t.text.length)},onKeyPress:function(e){var t=this;if(t.disabled||t.visible||e.which!==r||!t.currentValue){if(!t.disabled&&t.visible){switch(e.which){case n:t.el.val(t.currentValue),t.hide();break;case l:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case i:if(t.hint&&t.options.onHint)return void t.selectHint();if(-1===t.selectedIndex)return void t.hide();if(t.select(t.selectedIndex),!1===t.options.tabDisabled)return;break;case o:if(-1===t.selectedIndex)return void t.hide();t.select(t.selectedIndex);break;case a:t.moveUp();break;case r:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else t.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case a:case r:return}clearTimeout(t.onChangeTimeout),t.currentValue!==t.el.val()&&(t.findBestHint(),0<t.options.deferRequestBy?t.onChangeTimeout=setTimeout(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var e,t,s,n;this.ignoreValueChange?this.ignoreValueChange=!1:(t=(e=this).options,s=e.el.val(),n=e.getQuery(s),e.selection&&e.currentValue!==n&&(e.selection=null,(t.onInvalidateSelection||g.noop).call(e.element)),clearTimeout(e.onChangeTimeout),e.currentValue=s,e.selectedIndex=-1,t.triggerSelectOnValidInput&&e.isExactMatch(n)?e.select(0):n.length<t.minChars?e.hide():e.getSuggestions(n))},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},getQuery:function(e){var t=this.options.delimiter;return t?(t=e.split(t))[t.length-1].trim():e},getSuggestionsLocal:function(t){var e=this.options,s=t.toLowerCase(),n=e.lookupFilter,i=parseInt(e.lookupLimit,10),e={suggestions:g.grep(e.lookup,function(e){return n(e,t,s)})};return i&&e.suggestions.length>i&&(e.suggestions=e.suggestions.slice(0,i)),e},getSuggestions:function(n){var e,t,s,i=this,o=i.options,a=o.serviceUrl;o.params[o.paramName]=n,!1!==o.onSearchStart.call(i.element,o.params)&&(e=o.ignoreParams?null:o.params,g.isFunction(o.lookup)?o.lookup(n,function(e){i.suggestions=e.suggestions,i.suggest(),o.onSearchComplete.call(i.element,n,e.suggestions)}):(s=i.isLocal?i.getSuggestionsLocal(n):(g.isFunction(a)&&(a=a.call(i.element,n)),t=a+"?"+g.param(e||{}),i.cachedResponse[t]))&&Array.isArray(s.suggestions)?(i.suggestions=s.suggestions,i.suggest(),o.onSearchComplete.call(i.element,n,s.suggestions)):i.isBadQuery(n)?o.onSearchComplete.call(i.element,n,[]):(i.abortAjax(),s={url:a,data:e,type:o.type,dataType:o.dataType},g.extend(s,o.ajaxSettings),i.currentRequest=g.ajax(s).done(function(e){i.currentRequest=null,e=o.transformResult(e,n),i.processResponse(e,n,t),o.onSearchComplete.call(i.element,n,e.suggestions)}).fail(function(e,t,s){o.onSearchError.call(i.element,n,e,t,s)})))},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,s=t.length;s--;)if(0===e.indexOf(t[s]))return!0;return!1},hide:function(){var e=this,t=g(e.suggestionsContainer);g.isFunction(e.options.onHide)&&e.visible&&e.options.onHide.call(e.element,t),e.visible=!1,e.selectedIndex=-1,clearTimeout(e.onChangeTimeout),g(e.suggestionsContainer).hide(),e.onHint(null)},suggest:function(){var e,i,o,a,l,r,n,t,d,s,u,c;this.suggestions.length?(i=(e=this).options,o=i.groupBy,a=i.formatResult,l=e.getQuery(e.currentValue),r=e.classes.suggestion,n=e.classes.selected,t=g(e.suggestionsContainer),d=g(e.noSuggestionsContainer),s=i.beforeRender,u="",i.triggerSelectOnValidInput&&e.isExactMatch(l)?e.select(0):(g.each(e.suggestions,function(e,t){var s,n;o&&(u+=(n=(s=t).data[o],c===n?"":(c=n,i.formatGroup(s,c)))),u+='<div class="'+r+'" data-index="'+e+'">'+a(t,l,e)+"</div>"}),this.adjustContainerWidth(),d.detach(),t.html(u),g.isFunction(s)&&s.call(e.element,t,e.suggestions),e.fixPosition(),t.show(),i.autoSelectFirst&&(e.selectedIndex=0,t.scrollTop(0),t.children("."+r).first().addClass(n)),e.visible=!0,e.findBestHint())):this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var e=this,t=e.options.beforeRender,s=g(e.suggestionsContainer),n=g(e.noSuggestionsContainer);this.adjustContainerWidth(),n.detach(),s.empty(),s.append(n),g.isFunction(t)&&t.call(e.element,s,e.suggestions),e.fixPosition(),s.show(),e.visible=!0},adjustContainerWidth:function(){var e,t=this.options,s=g(this.suggestionsContainer);"auto"===t.width?(e=this.el.outerWidth(),s.css("width",0<e?e:300)):"flex"===t.width&&s.css("width","")},findBestHint:function(){var n=this.el.val().toLowerCase(),i=null;n&&(g.each(this.suggestions,function(e,t){var s=0===t.value.toLowerCase().indexOf(n);return s&&(i=t),!s}),this.onHint(i))},onHint:function(e){var t=this,s=t.options.onHint,n="";e&&(n=t.currentValue+e.value.substr(t.currentValue.length)),t.hintValue!==n&&(t.hintValue=n,t.hint=e,g.isFunction(s)&&s.call(t.element,n))},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?g.map(e,function(e){return{value:e,data:null}}):e},validateOrientation:function(e,t){return e=(e||"").trim().toLowerCase(),e=-1===g.inArray(e,["auto","bottom","top"])?t:e},processResponse:function(e,t,s){var n=this,i=n.options;e.suggestions=n.verifySuggestionsFormat(e.suggestions),i.noCache||(n.cachedResponse[s]=e,i.preventBadQueries&&!e.suggestions.length&&n.badQueries.push(t)),t===n.getQuery(n.currentValue)&&(n.suggestions=e.suggestions,n.suggest())},activate:function(e){var t=this,s=t.classes.selected,n=g(t.suggestionsContainer),i=n.find("."+t.classes.suggestion);return n.find("."+s).removeClass(s),t.selectedIndex=e,-1!==t.selectedIndex&&i.length>t.selectedIndex?(n=i.get(t.selectedIndex),g(n).addClass(s),n):null},selectHint:function(){var e=g.inArray(this.hint,this.suggestions);this.select(e)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){var e=this;if(-1!==e.selectedIndex)return 0===e.selectedIndex?(g(e.suggestionsContainer).children("."+e.classes.suggestion).first().removeClass(e.classes.selected),e.selectedIndex=-1,e.ignoreValueChange=!1,e.el.val(e.currentValue),void e.findBestHint()):void e.adjustScroll(e.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(e){var t,s,n,i=this,o=i.activate(e);o&&(t=g(o).outerHeight(),o=o.offsetTop,n=(s=g(i.suggestionsContainer).scrollTop())+i.options.maxHeight-t,o<s?g(i.suggestionsContainer).scrollTop(o):n<o&&g(i.suggestionsContainer).scrollTop(o-i.options.maxHeight+t),i.options.preserveInput||(i.ignoreValueChange=!0,i.el.val(i.getValue(i.suggestions[e].value))),i.onHint(null))},onSelect:function(e){var t=this,s=t.options.onSelect,e=t.suggestions[e];t.currentValue=t.getValue(e.value),t.currentValue===t.el.val()||t.options.preserveInput||t.el.val(t.currentValue),t.onHint(null),t.selection=e,g.isFunction(s)&&s.call(t.element,e)},getValue:function(e){var t,s=this.options.delimiter;return!s||1===(s=(t=this.currentValue).split(s)).length?e:t.substr(0,t.length-s[s.length-1].length)+e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),g(window).off("resize.autocomplete",this.fixPositionCapture),g(this.suggestionsContainer).remove()}},g.fn.devbridgeAutocomplete=function(s,n){var i="autocomplete";return arguments.length?this.each(function(){var e=g(this),t=e.data(i);"string"==typeof s?t&&"function"==typeof t[s]&&t[s](n):(t&&t.dispose&&t.dispose(),t=new u(this,s),e.data(i,t))}):this.first().data(i)},g.fn.autocomplete||(g.fn.autocomplete=g.fn.devbridgeAutocomplete)}),function(m){"use strict";etTheme.autoinit.ajaxSearch=etTheme.ajaxSearch=function(){m(".ajax-with-suggestions").each(function(){var c,i=m(this),d=i.find(".ajax-results-wrapper"),t=i.find("select"),g=i.find(".fancy-select"),s=etConfig.ajaxurl+"?action=etheme_ajax_search",n=i.find(".form-control"),o=(n.val(),i.hasClass("search-full-width-form")),a=i.find(".ajax-extra-content"),p=i.find(".clear"),h=i.attr("data-min"),l=i.attr("data-per-page"),r=i.attr("data-tabs"),e=i.find('input[name="lang"]'),f=!o,u=((etConfig.layoutSettings.is_mobile||m(this).parents(".et_b_mobile-panel-search").length)&&(f=!1),m(this).find("select").on("change",function(){let e=this.options[this.selectedIndex].text;m(this).find("option:selected").html(m(this).find("option:selected").html().replace(/&nbsp;/g,"")),m(this).css("max-width","calc("+(10+8*e.trim().length)+"px + 1.4em)")}),g.find(".fancy-placeholder-text").on("change",function(){let e=this.text();m(this).parent().parent().css("max-width","calc("+(10+8*e.trim().length)+"px + 1.4em)"),m(this).css("max-width","calc("+(10+8*e.trim().length)+"px + 1.4em)")}),t.length&&""!==t.val()&&(s+="&product_cat="+t.val()),e&&e.val()&&(s+="&lang="+e.val()),r||(s+="&show_count=true"),l&&(s+="&posts_per_page="+l),n.devbridgeAutocomplete({minChars:h||3,appendTo:d,triggerSelectOnValidInput:!1,serviceUrl:s,closeOnOutside:f,showNoSuggestionNotice:!0,noSuggestionNotice:etConfig.noresults,onSearchStart:function(){i.find(".search-button").addClass("loading"),o&&(i.parent().addClass("searching"),i.find(".autocomplete-suggestion, .ajax-results-title, .ajax-results-more").addClass("loaded"))},onSelect:function(e){o&&(i.find(".autocomplete-suggestions").attr("style",null),m(a).hide())},onSearchComplete:function(e,t){if(c=n.val(),i.find(".search-button").removeClass("loading"),i.find(".ajax-results-title, .ajax-results-more").remove(),o){if(t.length)i.find(".autocomplete-suggestions").attr("style",null);else{let e=i.find(".autocomplete-no-suggestion");e.html(etConfig.noSuggestionNoticeWithMatches.replace("{{search_value}}","<b>"+c+"</b>"))}m(a).hide()}if(r){let e=[];m.each(t,function(){e.push(this.type)}),e=e.filter(function(e,t,s){return s.indexOf(e)===t}),1<e.length&&(i.find(".autocomplete-suggestions").prepend('<div class="ajax-search-tabs et_b-tabs"></div>'),m.each(e,function(){m(".ajax-search-tabs").append('<span class="et-tab" data-tab="'+this+'">'+etConfig[this]+"</span>")}),m.each(i.find(".autocomplete-suggestion"),function(){m(this).addClass("et_b-tab-content").attr("data-tab-name",m(this).find(".ajax-list-image").attr("data-type"))}),m(".ajax-search-tabs").find(".et-tab").first().trigger("click"))}else t.length&&(m.each(i.find(".autocomplete-suggestion"),function(){m(this).attr("data-tab-name",m(this).find("[data-type]").attr("data-type"))}),o||m(i.find(".autocomplete-suggestions")).append('<div class="ajax-results-more full-width text-center flex"><button type="submit" class="btn black full-width">'+etConfig.show_all+"</button></div>"),m.each(["Product","Pages","Post","Portfolio"],function(){var n=this,e=i.find('.autocomplete-suggestion [data-type="'+this+'"]').first();e.attr("data-count-all")&&e.parent().before('<h3 class="ajax-results-title products-title full-width" data-title-type="'+this+'">'+(o?etConfig[e.attr("data-type")+"_found"].replace("{{count}}",e.attr("data-count-all")):etConfig[e.attr("data-type")]+'<span class="results-count">'+etConfig[1<e.attr("data-count-all")?"items_found":"item_found"].replace("{{count}}",e.attr("data-count-all"))+"</span>")+"</h3>"),o&&m(i.find('.autocomplete-suggestion [data-type="'+this+'"]')).each(function(e,t){let s=4;"Pages"===m(this).attr("data-type")&&(s=5),e!=s||0<(e=m(this).attr("data-count-all")-m(i.find('.autocomplete-suggestion [data-type="'+n+'"]')).length)&&m(this).parent().after('<div class="ajax-results-more full-width text-center"><button type="submit" class="btn black">'+etConfig.show_more.replace("{{count}}",e)+"</button></div>")})}),i.find(".autocomplete-suggestion, .ajax-results-title, .ajax-results-more").addClass("loaded"))},beforeRender:function(e){i.find(e).removeAttr("style"),a.removeAttr("style")},formatResult:function(e,t){i.addClass("ajax-results-shown");let s="",n="("+m.Autocomplete.utils.escapeRegExChars(t)+")";return"Product"==e.type&&(o&&!etConfig.layoutSettings.is_mobile?(s+='<div class="content-product view-color-dark product-view-mask" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',s+='<div class="product-image-wrapper hover-effect-swap">',s+='<a class="product-content-image" href="'+e.url+'">',e.in_stock||(s+=e.stock),e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s+="</a>",s+='<footer class="footer-product">',s+="<a "+e.add_to_cart_args+">"+e.add_to_cart_text+"</a>",s+="</footer>",s+="</div>",s+='<div class="product-details">',s+='<p class="product-title"><a href="'+e.url+'">'+e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")+"</a></p>",e.in_stock&&(s+=e.stock),e.price&&(s+='<div class="price">'+e.price+"</div>"),e.sku&&(s+='<span class="sku_wrapper">'+e.sku+"</span>"),s+="</div>",s+="</div>"):(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s+='<div class="ajax-item-info">',s+='<p class="product-title ajax-item-title">'+e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")+"</p>",s+=e.stock,e.price&&(s+='<div class="price">'+e.price+"</div>"),e.sku&&(s+='<span class="sku_wrapper">'+e.sku+"</span>"),s+="</div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>")),"Post"==e.type&&(o&&!etConfig.layoutSettings.is_mobile?(s+='<article class="'+e.post_class+'" data-type="'+e.type+'" data-count-all="'+e.all_count+'"><div>',s+='<div class="wp-picture blog-hover-zoom">',s+='<a href="'+e.url+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s+="</a>",s+="</div>",s+='<div class="grid-post-body">',s+='<div class="post-heading">',s+='<h2><a href="'+e.url+'">'+e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")+"</a></h2>",s+=e.meta,s+="</div>",e.excerpt&&(s+='<div class="content-article">',s+=e.excerpt,s+="</div>"),s+="</div>",s+="</div></article>"):(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s+='<div class="ajax-item-info">',s+='<p class="post-title ajax-item-title">'+e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")+"</p>",s+='<div class="post-date">'+e.date+"</div>",s+="</div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>")),"Pages"==e.type&&(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s+='<div class="ajax-item-info">',s+='<p class="pages-title ajax-item-title">'+e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")+"</p>",s+='<div class="post-date">'+e.date+"</div>",s+="</div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>"),"Portfolio"==e.type&&(o&&!etConfig.layoutSettings.is_mobile?(s+='<div class="'+e.post_class+'" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',s+='<div class="portfolio-item-inner">',s+='<div class="portfolio-image">',s+='<a href="'+e.url+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s+="</a>",s+='<div class="zoom">',s+='<a href="'+e.url+'" class="btn-lightbox"></a>',s+="</div>",s+="</div>",s+='<div class="portfolio-descr">',s+='<span class="posted-in">'+e.categories+"</span>",s+='<p class="project-title"><a href="'+e.url+'">'+e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")+"</a></p>",s+="</div>",s+="</div>",s+="</div>"):(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s+='<div class="ajax-item-info">',s+='<p class="portfolio-title ajax-item-title">'+e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")+"</p>",s+='<div class="post-date">'+e.date+"</div>",s+="</div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>")),i.find(".search-button").removeClass("loading"),s}}),n.devbridgeAutocomplete());t.length&&t.on("change",function(e){""!=t.val()?u.setOptions({serviceUrl:s+"&product_cat="+t.val()+(r?"":"&show_count=true")+(l?"&posts_per_page="+l:"")}):u.setOptions({serviceUrl:s+"&show_count=true"+(l?"&posts_per_page="+l:"")}),o&&!etConfig.layoutSettings.is_mobile&&u.setOptions({serviceUrl:s+"&full_screen=true&show_count=true"+(l?"&posts_per_page="+l:"")}),u.hide(),u.onValueChange()}),o&&!etConfig.layoutSettings.is_mobile&&(u.setOptions({serviceUrl:s+"&full_screen=true&show_count=true"+(l?"&posts_per_page="+l:""),preserveInput:!0}),m(i.find(".autocomplete-suggestions")).on("scroll",function(){m(i.find(".autocomplete-suggestion, .ajax-results-title, .ajax-results-more")).each(function(e,t){etTheme.isOnScreen(m(this))&&m(this).addClass("loaded")})}),m(i.find(".ajax-search-tags a").on("click",function(){n.val(m(this).text()),u.hide(),u.onValueChange(),i.addClass("ajax-results-shown")}))),p.on("click",function(e){n.attr("value","").val(""),u.hide(),u.onValueChange(),i.removeClass("ajax-results-shown"),a.removeAttr("style"),i.parent().removeClass("searching")})})}}(jQuery);