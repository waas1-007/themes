!function(r){woodmartThemeModule.addToCartAllTypes=function(){0!=woodmart_settings.ajax_add_to_cart&&(woodmartThemeModule.$body.on("submit","form.cart",function(t){var e,a=r(this),o=a.parents(".single-product-page");(o=0===o.length?a.parents(".product-quick-view"):o).hasClass("product-type-external")||o.hasClass("product-type-zakeke")||o.hasClass("product-type-gift-card")||r(t.originalEvent.submitter).hasClass("wd-buy-now-btn")||(t.preventDefault(),e=a.find(".single_add_to_cart_button"),o=a.serialize(),o+="&action=woodmart_ajax_add_to_cart",e.val()&&(o+="&add-to-cart="+e.val()),e.removeClass("added not-added"),e.addClass("loading"),woodmartThemeModule.$body.trigger("adding_to_cart",[e,o]),r.ajax({url:woodmart_settings.ajaxurl,data:o,method:"POST",success:function(t){var a,o,d;t&&(window.location.toString().replace("add-to-cart","added-to-cart"),t.error&&t.product_url?window.location=t.product_url:"yes"===woodmart_settings.cart_redirect_after_add?window.location=woodmart_settings.cart_url:(e.removeClass("loading"),a=t.fragments,o=t.cart_hash,a&&r.each(a,function(t){r(t).addClass("updating")}),a&&r.each(a,function(t,a){r(t).replaceWith(a)}),(d=r(".woocommerce-notices-wrapper")).empty(),0<t.notices.indexOf("error")?(d.append(t.notices),e.addClass("not-added")):("widget"===woodmart_settings.add_to_cart_action&&r.magnificPopup.close(),e.addClass("added"),woodmartThemeModule.$body.trigger("added_to_cart",[a,o,e]))))},error:function(){console.log("ajax adding to cart error")},complete:function(){}}))}),woodmartThemeModule.$body.on("click",".wd-sticky-btn .wd-buy-now-btn",function(){r(this).parents("form.cart").length||r("form.cart").find(".wd-buy-now-btn").trigger("click")}))},r(document).ready(function(){woodmartThemeModule.addToCartAllTypes()})}(jQuery);